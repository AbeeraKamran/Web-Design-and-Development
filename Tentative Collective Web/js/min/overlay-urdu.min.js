!function(o){function t(){var t=o(window).height(),r=o(document).scrollTop(),n=r/(s-t),a=n*(e-t);if(n>1){var u=e-t,l=s-r;o(".overlay-urdu").css({position:"fixed",top:-u+l-i})}else o(".overlay-urdu").css({position:"fixed",top:-a})}o.fn.closestToOffsetUrdu=function(t){var i,e,r,s,n,a=null,u=t.left,l=t.top;return this.each(function(){if(i=o(this).offset(),u>=i.left&&u<=i.right&&l>=i.top&&l<=i.bottom)return a=o(this),!1;var t=[[i.left,i.top],[i.right,i.top],[i.left,i.bottom],[i.right,i.bottom]];for(off in t)r=t[off][0]-u,s=t[off][1]-l,e=Math.sqrt(r*r+s*s),(void 0===n||n>e)&&(n=e,a=o(this))}),a},o.fn.positionPointsUrdu=function(){r=o(this),o(".point-urdu").each(function(){$point=o(this),$point.addClass("visible");var t=$point.width(),i=$point.data("x")/100*(r.width()-t/2),e=$point.data("y")/100*(r.height()-t/2);$point.css({top:e,left:i})})};var i,e,r,s;o(window).scroll(function(){t()}),o(window).load(function(){function n(){var t=o(document).scrollTop(),i=o(document).height()-o(window).height();t>=i-40?o("html, body").stop().animate({scrollTop:0},1500):o(".scrollTo").each(function(){var i=o(this).position().top-t;if(i>100){var e=i+t;return o(this).hasClass("clearfix")&&(e=i+t-80),o("html, body").stop().animate({scrollTop:e},400),!1}})}r=o(".overlay-urdu"),o(window).resize(function(){i=o("footer").outerHeight(),e=r.height(),s=o(document).height()-i,r.positionPointsUrdu(),t()}).resize(),o(".point-urdu").hover(function(){$point=o(this);var t=o(".overlay-urdu").offset(),i=$point.offset().left+$point.width()/2,r=$point.offset().top+$point.height()/2-t.top,s=i/o(window).width()*100,n=r/e*100;o(".overlay-image-urdu").css({"transform-origin":s+"% "+n+"%","-ms-transform-origin":s+"% "+n+"%","-moz-transform-origin":s+"% "+n+"%","-o-transform-origin":s+"% "+n+"%","-webkit-transform-origin":s+"% "+n+"%"}),o(".overlay-urdu, .caption-urdu").addClass("visible"),o(".caption-urdu").html($point.data("title"))},function(){o(".overlay-image-urdu").removeClass("zoom"),o(".overlay-urdu, .caption-urdu").removeClass("visible")}),o(".point-urdu").click(function(){o(".overlay-image-urdu").hasClass("zoom")?(o(".overlay-image-urdu").removeClass("zoom"),o(".overlay-urdu, .caption-urdu").removeClass("visible")):o(".overlay-image-urdu").addClass("zoom")}),o('a[href^="#"]').click(function(t){if(t.preventDefault(),o(this).hasClass("cv")){o("body").addClass("hide");var i=o(this).attr("href");o(i).addClass("active")}else{var e=o(this).attr("href");o("html, body").animate({scrollTop:o(e).offset().top},400)}}),o(document).keydown(function(t){switch(t.which){case 38:case 33:prevSection();break;case 40:case 34:n();break;case 36:o("body, html").stop().animate({scrollTop:0},400);break;case 35:o("body, html").stop().animate({scrollTop:o(document).height()-o(window).height()},400);break;default:return}t.preventDefault()}),setTimeout(function(){o(window).mousemove(function(t){var i=t.pageX,e=t.pageY,r=o(".point-urdu").closestToOffsetUrdu({left:i,top:e});o(".point-urdu").removeClass("highlight visible"),r.addClass("highlight")})},1500)})}(jQuery);